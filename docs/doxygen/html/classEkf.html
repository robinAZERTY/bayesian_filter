<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Ekf&lt; x_dim, u_dim, c_dim, z_num, T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classEkf-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ekf&lt; x_dim, u_dim, c_dim, z_num, T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A generic implementation of an Extended Kalman Filter (EKF).  
 <a href="classEkf.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ekf_8hpp_source.html">ekf.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af183d5526f13066dc72d4d986c0ca0c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#af183d5526f13066dc72d4d986c0ca0c9">Ekf</a> ()</td></tr>
<tr class="memdesc:af183d5526f13066dc72d4d986c0ca0c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for the EKF filter.  <a href="classEkf.html#af183d5526f13066dc72d4d986c0ca0c9">More...</a><br /></td></tr>
<tr class="separator:af183d5526f13066dc72d4d986c0ca0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b5fe77e7303998c33011f6c66e2600"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a65b5fe77e7303998c33011f6c66e2600">Ekf</a> (Vector_f3&lt; T &gt; f)</td></tr>
<tr class="separator:a65b5fe77e7303998c33011f6c66e2600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88f3705f943399727dbc61461802cbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#aa88f3705f943399727dbc61461802cbc">~Ekf</a> ()</td></tr>
<tr class="separator:aa88f3705f943399727dbc61461802cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fc17b1e939e3bc67d983acc14a77d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a21fc17b1e939e3bc67d983acc14a77d9">setPredictionFunction</a> (Vector_f3&lt; T &gt; f)</td></tr>
<tr class="separator:a21fc17b1e939e3bc67d983acc14a77d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545e6b4d5240291500ab5731ccf3cc1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a545e6b4d5240291500ab5731ccf3cc1d">setJacobianFunction_Fx</a> (Matrix_f3&lt; T &gt; Fx)</td></tr>
<tr class="separator:a545e6b4d5240291500ab5731ccf3cc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d66dbca0d5f520ed36d4a0517de2da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a4d66dbca0d5f520ed36d4a0517de2da1">setJacobianFunction_Fu</a> (Matrix_f3&lt; T &gt; Fu)</td></tr>
<tr class="separator:a4d66dbca0d5f520ed36d4a0517de2da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1a1efc561b7728174982f16b9740e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#acf1a1efc561b7728174982f16b9740e3">setMeasurementFunction</a> (Vector_f2&lt; T &gt; h, size_t z_dim, size_t z_idx=0)</td></tr>
<tr class="memdesc:acf1a1efc561b7728174982f16b9740e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the measurement function for a specific sensor type.  <a href="classEkf.html#acf1a1efc561b7728174982f16b9740e3">More...</a><br /></td></tr>
<tr class="separator:acf1a1efc561b7728174982f16b9740e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487bfa60ab423109b9a15be4133d5a51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a487bfa60ab423109b9a15be4133d5a51">setJacobianFunction_H</a> (Matrix_f2&lt; T &gt; H, size_t z_idx=0)</td></tr>
<tr class="separator:a487bfa60ab423109b9a15be4133d5a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfb45f6be5be601b2af253db7c3d8bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a7dfb45f6be5be601b2af253db7c3d8bb">predict</a> ()</td></tr>
<tr class="memdesc:a7dfb45f6be5be601b2af253db7c3d8bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicts the state using the state transition function.  <a href="classEkf.html#a7dfb45f6be5be601b2af253db7c3d8bb">More...</a><br /></td></tr>
<tr class="separator:a7dfb45f6be5be601b2af253db7c3d8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b5346b0af888af2424083b295b0453"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a88b5346b0af888af2424083b295b0453">update</a> (const Vector&lt; T &gt; &amp;Z, const symMatrix&lt; T &gt; &amp;R, const size_t z_idx=0)</td></tr>
<tr class="memdesc:a88b5346b0af888af2424083b295b0453"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the state and covariance matrix using a new measurement and measurement noise covariance.  <a href="classEkf.html#a88b5346b0af888af2424083b295b0453">More...</a><br /></td></tr>
<tr class="separator:a88b5346b0af888af2424083b295b0453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a254a497a5c7134e01d6ff28afeb7f4f6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a254a497a5c7134e01d6ff28afeb7f4f6">getMahalanobisDistance</a> (const size_t z_idx=0) const</td></tr>
<tr class="separator:a254a497a5c7134e01d6ff28afeb7f4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5a3895ec5ad2964afa160f2ba516bfba"><td class="memItemLeft" align="right" valign="top">Vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a5a3895ec5ad2964afa160f2ba516bfba">X</a> = Vector&lt;T&gt;(x_dim)</td></tr>
<tr class="separator:a5a3895ec5ad2964afa160f2ba516bfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140b16c6e369142ffe7933b9a0f3e53c"><td class="memItemLeft" align="right" valign="top">Vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a140b16c6e369142ffe7933b9a0f3e53c">dx</a> = Vector&lt;T&gt;(x_dim)</td></tr>
<tr class="separator:a140b16c6e369142ffe7933b9a0f3e53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cba21a5e6937f3b54daa7d55c047d6"><td class="memItemLeft" align="right" valign="top">symMatrix&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a40cba21a5e6937f3b54daa7d55c047d6">P</a> = symMatrix&lt;T&gt;(x_dim, x_dim)</td></tr>
<tr class="separator:a40cba21a5e6937f3b54daa7d55c047d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae73e0c4ca1fea2df4ecdc03c0573e9"><td class="memItemLeft" align="right" valign="top">Vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a2ae73e0c4ca1fea2df4ecdc03c0573e9">U</a> = Vector&lt;T&gt;(u_dim)</td></tr>
<tr class="separator:a2ae73e0c4ca1fea2df4ecdc03c0573e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea43dc3b7f0f92a45537f2b215821c5"><td class="memItemLeft" align="right" valign="top">Vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a3ea43dc3b7f0f92a45537f2b215821c5">du</a> = Vector&lt;T&gt;(u_dim)</td></tr>
<tr class="separator:a3ea43dc3b7f0f92a45537f2b215821c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe26209d15363d02eb64e8037be53bd2"><td class="memItemLeft" align="right" valign="top">symMatrix&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#afe26209d15363d02eb64e8037be53bd2">Cov_U</a> = symMatrix&lt;T&gt;(u_dim)</td></tr>
<tr class="separator:afe26209d15363d02eb64e8037be53bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfcea4e63e3ad4a0948ed91971318c6b"><td class="memItemLeft" align="right" valign="top">Vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#adfcea4e63e3ad4a0948ed91971318c6b">C</a> = Vector&lt;T&gt;(c_dim)</td></tr>
<tr class="separator:adfcea4e63e3ad4a0948ed91971318c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d66ebe5d08951c479cf81082160aef"><td class="memItemLeft" align="right" valign="top">Vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#ac0d66ebe5d08951c479cf81082160aef">dc</a> = Vector&lt;T&gt;(c_dim)</td></tr>
<tr class="separator:ac0d66ebe5d08951c479cf81082160aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d391350192b79e5eadb65a7a38f12a"><td class="memItemLeft" align="right" valign="top">Vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEkf.html#a93d391350192b79e5eadb65a7a38f12a">updateMahalanobis</a> = Vector&lt;bool&gt;(z_num)</td></tr>
<tr class="separator:a93d391350192b79e5eadb65a7a38f12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T = float&gt;<br />
class Ekf&lt; x_dim, u_dim, c_dim, z_num, T &gt;</h3>

<p>A generic implementation of an Extended Kalman Filter (EKF). </p>
<p>This class provides the core EKF functionality, including state prediction and update steps for nonlinear systems. It supports dynamic system models and allows for numerical differentiation of Jacobians for both state transition and measurement functions.</p>
<p>You must provide several key functions and data to ensure the filter works properly:</p>
<ul>
<li><b>State Transition Function</b> (<code>f</code>): A function that models the evolution of the state vector over time, used for the prediction step.</li>
<li><b>Measurement Function</b> (<code>h</code>): A function that models the measurement process, mapping the state vector to the measurement space.</li>
<li><b>Initial State and Covariance</b> (<code>X</code> and <code>P</code>): The user must initialize the state vector <code>X</code> and the state covariance matrix <code>P</code> with reasonable values for the system.</li>
<li><b>Control Inputs</b> (<code>U</code>): If the system involves control inputs, the user must provide them during the prediction step.</li>
<li><b>Measurement Data</b> (<code>Z</code> and <code>R</code>): During the update step, the user must provide the measurement vector <code>Z</code> and the measurement noise covariance <code>R</code>.</li>
</ul>
<p>The EKF will then handle the state prediction, measurement update, and state covariance estimation.</p>
<p>The filter supports multiple types of sensors, with each sensor having its own measurement function and Jacobian. The number of sensor types (<code>z_num</code>) can be customized, allowing for flexibility in handling various measurements within the same filter.</p>
<p>The class also supports numerical differentiation for computing Jacobians if analytical expressions are not available, making it versatile for different models.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">x_dim</td><td>The dimension of the state vector. </td></tr>
    <tr><td class="paramname">u_dim</td><td>The dimension of the control input vector. </td></tr>
    <tr><td class="paramname">c_dim</td><td>The dimension of the system parameters (default is 1). </td></tr>
    <tr><td class="paramname">z_num</td><td>The number of measurement types (default is 1). </td></tr>
    <tr><td class="paramname">T</td><td>The data type used for calculations (default is float). </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af183d5526f13066dc72d4d986c0ca0c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af183d5526f13066dc72d4d986c0ca0c9">&#9670;&nbsp;</a></span>Ekf() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim, size_t z_num, typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::<a class="el" href="classEkf.html">Ekf</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor for the EKF filter. </p>
<p>Default constructor</p>
<p>Initializes the state vector <code>X</code>, the state covariance <code>P</code>, and other necessary vectors to default values. Sets small values for numerical differentiation and initializes Mahalanobis distance tracking. </p>

</div>
</div>
<a id="a65b5fe77e7303998c33011f6c66e2600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b5fe77e7303998c33011f6c66e2600">&#9670;&nbsp;</a></span>Ekf() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::<a class="el" href="classEkf.html">Ekf</a> </td>
          <td>(</td>
          <td class="paramtype">Vector_f3&lt; T &gt;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor with a state transition function </p>

</div>
</div>
<a id="aa88f3705f943399727dbc61461802cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa88f3705f943399727dbc61461802cbc">&#9670;&nbsp;</a></span>~Ekf()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::~<a class="el" href="classEkf.html">Ekf</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a254a497a5c7134e01d6ff28afeb7f4f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a254a497a5c7134e01d6ff28afeb7f4f6">&#9670;&nbsp;</a></span>getMahalanobisDistance()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::getMahalanobisDistance </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>z_idx</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the Mahalanobis distance for a specific measurement type </p>

</div>
</div>
<a id="a7dfb45f6be5be601b2af253db7c3d8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dfb45f6be5be601b2af253db7c3d8bb">&#9670;&nbsp;</a></span>predict()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim, size_t z_num, typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::predict</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Predicts the state using the state transition function. </p>
<p>Perform the prediction step of the EKF</p>
<p>This function computes the predicted state <code>X</code> based on the previous state and the state transition function. It also updates the state covariance matrix <code>P</code> based on the state transition Jacobian.</p>
<p>Throws an exception if the state transition function is not set. </p>

</div>
</div>
<a id="a4d66dbca0d5f520ed36d4a0517de2da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d66dbca0d5f520ed36d4a0517de2da1">&#9670;&nbsp;</a></span>setJacobianFunction_Fu()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::setJacobianFunction_Fu </td>
          <td>(</td>
          <td class="paramtype">Matrix_f3&lt; T &gt;&#160;</td>
          <td class="paramname"><em>Fu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the Jacobian for control input transition </p>

</div>
</div>
<a id="a545e6b4d5240291500ab5731ccf3cc1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545e6b4d5240291500ab5731ccf3cc1d">&#9670;&nbsp;</a></span>setJacobianFunction_Fx()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::setJacobianFunction_Fx </td>
          <td>(</td>
          <td class="paramtype">Matrix_f3&lt; T &gt;&#160;</td>
          <td class="paramname"><em>Fx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the Jacobian for state transition </p>

</div>
</div>
<a id="a487bfa60ab423109b9a15be4133d5a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487bfa60ab423109b9a15be4133d5a51">&#9670;&nbsp;</a></span>setJacobianFunction_H()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::setJacobianFunction_H </td>
          <td>(</td>
          <td class="paramtype">Matrix_f2&lt; T &gt;&#160;</td>
          <td class="paramname"><em>H</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>z_idx</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the Jacobian for the measurement function </p>

</div>
</div>
<a id="acf1a1efc561b7728174982f16b9740e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1a1efc561b7728174982f16b9740e3">&#9670;&nbsp;</a></span>setMeasurementFunction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim, size_t z_num, typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::setMeasurementFunction </td>
          <td>(</td>
          <td class="paramtype">Vector_f2&lt; T &gt;&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>z_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>z_idx</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the measurement function for a specific sensor type. </p>
<p>Set the measurement function for a specific measurement type</p>
<p>This function defines the measurement function and measurement dimension for a particular sensor type. It also initializes the corresponding Jacobians and matrices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The measurement function for the sensor type. </td></tr>
    <tr><td class="paramname">z_dim</td><td>The dimension of the measurement vector for the sensor. </td></tr>
    <tr><td class="paramname">z_idx</td><td>The index of the sensor type (default is 0). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a21fc17b1e939e3bc67d983acc14a77d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fc17b1e939e3bc67d983acc14a77d9">&#9670;&nbsp;</a></span>setPredictionFunction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::setPredictionFunction </td>
          <td>(</td>
          <td class="paramtype">Vector_f3&lt; T &gt;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the state prediction function </p>

</div>
</div>
<a id="a88b5346b0af888af2424083b295b0453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b5346b0af888af2424083b295b0453">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim, size_t z_num, typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::update </td>
          <td>(</td>
          <td class="paramtype">const Vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const symMatrix&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>z_idx</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the state and covariance matrix using a new measurement and measurement noise covariance. </p>
<p>Perform the update step of the EKF with a measurement vector</p>
<p>This function updates the state vector <code>X</code> and the state covariance matrix <code>P</code> based on the new measurement <code>Z</code> and the measurement noise covariance matrix <code>R</code>. The Kalman gain is also computed and used to adjust the state.</p>
<p>Throws an exception if the measurement function is not set or if there is a dimension mismatch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Z</td><td>The new measurement vector. </td></tr>
    <tr><td class="paramname">R</td><td>The measurement noise covariance matrix. </td></tr>
    <tr><td class="paramname">z_idx</td><td>The index of the measurement type (default is 0). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="adfcea4e63e3ad4a0948ed91971318c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfcea4e63e3ad4a0948ed91971318c6b">&#9670;&nbsp;</a></span>C</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::C = Vector&lt;T&gt;(c_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System parameters vector </p>

</div>
</div>
<a id="afe26209d15363d02eb64e8037be53bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe26209d15363d02eb64e8037be53bd2">&#9670;&nbsp;</a></span>Cov_U</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">symMatrix&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::Cov_U = symMatrix&lt;T&gt;(u_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process noise covariance matrix </p>

</div>
</div>
<a id="ac0d66ebe5d08951c479cf81082160aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d66ebe5d08951c479cf81082160aef">&#9670;&nbsp;</a></span>dc</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::dc = Vector&lt;T&gt;(c_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Small system parameters epsilon for numerical differentiation </p>

</div>
</div>
<a id="a3ea43dc3b7f0f92a45537f2b215821c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ea43dc3b7f0f92a45537f2b215821c5">&#9670;&nbsp;</a></span>du</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::du = Vector&lt;T&gt;(u_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Small control input epsilon for numerical differentiation </p>

</div>
</div>
<a id="a140b16c6e369142ffe7933b9a0f3e53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140b16c6e369142ffe7933b9a0f3e53c">&#9670;&nbsp;</a></span>dx</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::dx = Vector&lt;T&gt;(x_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Small state epsilon for numerical differentiation </p>

</div>
</div>
<a id="a40cba21a5e6937f3b54daa7d55c047d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40cba21a5e6937f3b54daa7d55c047d6">&#9670;&nbsp;</a></span>P</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">symMatrix&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::P = symMatrix&lt;T&gt;(x_dim, x_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State covariance matrix </p>

</div>
</div>
<a id="a2ae73e0c4ca1fea2df4ecdc03c0573e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae73e0c4ca1fea2df4ecdc03c0573e9">&#9670;&nbsp;</a></span>U</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::U = Vector&lt;T&gt;(u_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Control input vector </p>

</div>
</div>
<a id="a93d391350192b79e5eadb65a7a38f12a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d391350192b79e5eadb65a7a38f12a">&#9670;&nbsp;</a></span>updateMahalanobis</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;bool&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::updateMahalanobis = Vector&lt;bool&gt;(z_num)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags indicating whether to update the Mahalanobis distance for each measurement type </p>

</div>
</div>
<a id="a5a3895ec5ad2964afa160f2ba516bfba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3895ec5ad2964afa160f2ba516bfba">&#9670;&nbsp;</a></span>X</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t x_dim, size_t u_dim, size_t c_dim = 1, size_t z_num = 1, typename T  = float&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;T&gt; <a class="el" href="classEkf.html">Ekf</a>&lt; x_dim, u_dim, c_dim, z_num, T &gt;::X = Vector&lt;T&gt;(x_dim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current state vector </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="ekf_8hpp_source.html">ekf.hpp</a></li>
<li>src/<a class="el" href="ekf_8cpp.html">ekf.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
